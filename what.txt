router start port 5000
router start port 5001

market connects to 5001
router sends logon with id
router saves market port to routing table
market saves id and adds to all messages
market listens for orders on the opened port

broker connects to 5000
router sends logon with id
router saves broker port to routing table


Processors need only the message and the routing table I think.. What about socket though on a bad message?

Branched processing Receive message and send it on
	ValidationProcessor <- requires socket or an exception to send back fail message.
	IdentificationProcessor <- Reject when 109 / 108 is not supplied, this requires a RejectException
	RoutingProcessor <- Find the correct socket to send message on
	OrderProcessor <- On B and S requests try all markets in the rouing table






message by type that need routing

	L -> no routing required
	
	0 -> Reject Order, only comes from markets
		Go to next market
		If all markets are 0 send reject on

	1 -> Accept order, only comes from market
		Send to broker using id from 109

	B -> Buy order, only comes from broker
		iterate over

	3 -> Error, send back to initiator
